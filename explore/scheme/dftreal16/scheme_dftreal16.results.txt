NITER: 100000

# Gambit-C version

gsi -v
v4.6.2 20110519175028 x86_64-unknown-linux-gnu "./configure /home/gl/tobackup/software/gambc-v4_6_2/share/config.site /home/gl/tobackup/software/gambc-v4_6_2/etc/config.site"

# First, time the interpretation of the .scm files:

time scheme_dftreal16_baseline.scm          # Baseline implementation of the DFT

real	0m46.093s
user	0m45.931s
sys	0m0.048s

time scheme_dftreal16_cooley_tukey_func.scm # Cooley-Tukey implementation of the DFT (purely functional)

real	0m13.083s
user	0m13.005s
sys	0m0.044s

time scheme_dftreal16_cooley_tukey.scm      # Cooley-Tukey implementation of the DFT (minimal use of vector-set!)

real	0m11.050s
user	0m10.997s
sys	0m0.024s

time scheme_dftreal16_flat.scm              # Proposed "flatorized" implementation for N:16

real	0m3.118s
user	0m3.096s
sys	0m0.012s

# Compile them:

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal_baseline.scm scheme_dftreal16_baseline.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_baseline.bin tmp.scm
rm tmp.scm

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal_cooley_tukey_func.scm scheme_dftreal16_cooley_tukey_func.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_cooley_tukey_func.bin tmp.scm
rm tmp.scm

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal_cooley_tukey.scm scheme_dftreal16_cooley_tukey.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_cooley_tukey.bin tmp.scm
rm tmp.scm

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal16_flat.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_flat.bin tmp.scm
rm tmp.scm

# Done compiling. Now time the binaries:

time scheme_dftreal16_baseline.bin          # Baseline implementation of the DFT

real	0m9.326s
user	0m9.285s
sys	0m0.016s

time scheme_dftreal16_cooley_tukey_func.bin # Cooley-Tukey implementation of the DFT (purely functional)

real	0m3.477s
user	0m3.448s
sys	0m0.016s

time scheme_dftreal16_cooley_tukey.bin      # Cooley-Tukey implementation of the DFT (minimal use of vector-set!)

real	0m2.335s
user	0m2.312s
sys	0m0.016s

time scheme_dftreal16_flat.bin              # Proposed "flatorized" implementation for N:16

real	0m0.425s
user	0m0.420s
sys	0m0.000s

set +v
