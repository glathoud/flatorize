NITER: 100000

# Gambit-C version

gsi -v
v4.6.2 20110519175028 x86_64-unknown-linux-gnu "./configure /home/gl/tobackup/software/gambc-v4_6_2/share/config.site /home/gl/tobackup/software/gambc-v4_6_2/etc/config.site"

# First, time the interpretation of the .scm files:

time scheme_dftreal16_baseline.scm          # Baseline implementation of the DFT

real	0m46.102s
user	0m45.927s
sys	0m0.060s

time scheme_dftreal16_cooley_tukey_func.scm # Cooley-Tukey implementation of the DFT (purely functional)

real	0m17.119s
user	0m17.053s
sys	0m0.020s

time scheme_dftreal16_cooley_tukey.scm      # Cooley-Tukey implementation of the DFT (minimal use of vector-set!)

real	0m15.229s
user	0m15.161s
sys	0m0.028s

time scheme_dftreal16_flat.scm              # Proposed "flatorized" implementation for N:16

real	0m2.961s
user	0m2.952s
sys	0m0.000s

# Compile them:

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal_baseline.scm scheme_dftreal16_baseline.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_baseline.bin tmp.scm
rm tmp.scm

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal_cooley_tukey_func.scm scheme_dftreal16_cooley_tukey_func.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_cooley_tukey_func.bin tmp.scm
rm tmp.scm

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal_cooley_tukey.scm scheme_dftreal16_cooley_tukey.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_cooley_tukey.bin tmp.scm
rm tmp.scm

cat scheme_util.scm scheme_dftreal16_common.scm scheme_dftreal16_flat.scm | grep -v load | grep -v gsi-script > tmp.scm
gsc -exe -o scheme_dftreal16_flat.bin tmp.scm
rm tmp.scm

# Done compiling. Now time the binaries:

time scheme_dftreal16_baseline.bin          # Baseline implementation of the DFT

real	0m8.864s
user	0m8.817s
sys	0m0.024s

time scheme_dftreal16_cooley_tukey_func.bin # Cooley-Tukey implementation of the DFT (purely functional)

real	0m2.906s
user	0m2.876s
sys	0m0.020s

time scheme_dftreal16_cooley_tukey.bin      # Cooley-Tukey implementation of the DFT (minimal use of vector-set!)

real	0m1.886s
user	0m1.868s
sys	0m0.012s

time scheme_dftreal16_flat.bin              # Proposed "flatorized" implementation for N:16

real	0m0.363s
user	0m0.352s
sys	0m0.008s

set +v
